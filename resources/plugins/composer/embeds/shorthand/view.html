<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    body { font-family:'Red Hat Display',sans-serif; padding:1rem; text-align:center; }
    .btn {
      display:inline-block;
      padding:0.75rem 1.5rem;
      border:none;
      border-radius:4px;
      text-decoration:none;
      font-size:1rem;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div id="preview"></div>
  <script>
    let data = {};
    window.addEventListener('message', e => {
      if (e.data && e.data.type === 'data') {
        data = e.data.data;
        render();
      }
    });
    function render() {
      if (!data.id) return;
      const a = document.createElement('a');
      a.href = data.id;
      a.target = '_blank';
      a.textContent = data.config.buttonText;
      a.className = 'btn';
      a.style.backgroundColor = data.config.bgColor;
      a.style.color = data.config.textColor;
      document.getElementById('preview').innerHTML = '';
      document.getElementById('preview').appendChild(a);
    }
    // request init
    parent.postMessage({type:'ready'}, '*');
  </script>
</body>
</html>
